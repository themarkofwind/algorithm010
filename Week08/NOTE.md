# 算法训练营 第八周

## 位运算

### 位运算符

| 含义     | 运算符 | 备注                 |
| -------- | ------ | -------------------- |
| 左移     | \>>    | 0011 => 0110         |
| 右移     | <<     | 0110 => 0011         |
| 按位或   | \|     | 0011 \| 1011 => 1011 |
| 按位与   | &      | 0011 & 1011 => 0011  |
| 按位取反 | !      | 0011 => 1100         |
| 按位异或 | ^      | 0011 ^ 1011 => 1000  |

### XOR

- x ^ 0 = x
- x ^ 1s = ~x (1s = ~0)
- x ^ (~x) = 1s
- x ^ x = 0
- c = a ^ b => a ^ c = b, b ^c = a
- a^b^c = a^(b^c) = (a^b)^c

### 指定位置的位运算

- 将x最右边的n位清零：x & (~0 << n)
- 获取x的第n位值（0或者1）：(x >> n) & 1
- 获取x的第n位的幂值：x & (1 << n)
- 仅将第n位置为1：x | (1 << n)
- 仅将第n位置为0：x & (~(1 << n))
- 将x最高位至第n位（含）清零：x & ((1 << n) - 1)

### 位运算要点

- 判断奇偶：
  - x % 2 == 1 => (x & 1) == 1
  - x % 2 == 0 => (x & 1) == 0
- x >> 1 => x / 2
- x = x & (x - 1) 清零最低位的1
- x & -x 得到最低位的1 （-x由其补码表示，取反后+1）
- x & ~x => 0